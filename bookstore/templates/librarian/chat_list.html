{% extends 'librarian/base.html' %} {% block content %}
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
  <div class="bg-white shadow rounded-lg overflow-hidden">
    <div class="px-4 py-5 sm:px-6 bg-primary">
      <div class="flex items-center">
        <i class="fas fa-comments text-white mr-2"></i>
        <h3 class="text-lg font-medium text-white">Group Chat</h3>
      </div>
    </div>

    <div class="px-4 py-5 sm:p-6">
      <div class="mb-6">
        <a
          href="/llchat"
          class="inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary"
        >
          <i class="fas fa-sync-alt mr-2"></i>
          Refresh For Any New Chats
        </a>
      </div>

      <div class="space-y-6">
        {% for chat in object_list %}
        <div class="bg-white p-4 rounded-lg shadow-md">
          <div class="flex items-center mb-2">
            {% if chat.user.is_superuser or chat.user.is_admin %}
            <span class="text-sm font-medium text-green-600"
              >{{ chat.user }} - Admin</span
            >
            {% elif chat.user.is_librarian %}
            <span class="text-sm font-medium text-red-600"
              >{{ chat.user }} - Librarian</span
            >
            {% else %}
            <span class="text-sm font-medium text-primary"
              >{{ chat.user }} - Publisher</span
            >
            {% endif %}
          </div>
          <div class="text-gray-800 mb-2">{{ chat|linebreaks }}</div>
          <div class="text-xs text-gray-500">{{ chat.posted_at }}</div>
        </div>
        {% empty %}
        <div class="text-center py-12">
          <i class="fas fa-comment-slash text-4xl text-gray-300 mb-4"></i>
          <h2 class="text-xl font-medium text-gray-700">No Chats Yet</h2>
          <p class="text-gray-500 mt-2">Be The First To Message!</p>
        </div>
        {% endfor %}
      </div>

      <div class="mt-6">
        <a
          href="{% url 'lcchat' %}"
          class="inline-flex items-center px-4 py-2 border border-primary shadow-sm text-sm font-medium rounded-md text-primary bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary"
        >
          <i class="fas fa-plus mr-2"></i>
          New Message
        </a>
      </div>
    </div>
  </div>
</div>
{% endblock %}
